<br>

<h1> List Of Patients </h1>

<hr>

<ng-container *ngIf="patientsCount">

<div class = "form-group my-group">
    <input type = "text" class = "form-control search-field" placeholder="Search Here"
    [(ngModel)]="searchText">

</div>
    <table  class="table table-striped table-light table-hover table-borderless" >
        <caption>List of Patients</caption>
        <thead>
            <tr style ="color: black;">
                <th><a (click) = "onClickId()"> ID </a>   </th>
                <th><a (click) = "onClickName()"> Name </a>   </th>
                <th> Age</th>
                <th> Gender</th>
                <th> Department</th> 
                <th> Doctor Name</th>
                <th> Doctor Fee</th>
                <th> Registration Date</th>
                <th> Created By</th>
                <th> Edit/delete</th>
            </tr>
        </thead>
    
        <tbody>
    
            <ng-container *ngFor="let patient of patients | SearchFilter : searchText " >
               
    
                <tr >
                    <td> {{patient.patientId}}</td>
                    <td> {{patient.patientName}}</td>
                    <td> {{patient.patientAge}}</td>
                    <td> {{patient.patientGender}} </td>
                    <td> {{patient.department}}</td>
                    <td> {{patient.doctorName}}</td>
                    <td> {{patient.doctorFee}}</td>
                    <td> {{patient.registerDate.substring(0,10)}}</td>
                    <td> {{patient.createdBy}}</td>

                    <td>
                        <div class ="my-icosn">
                            <a class="edit" title="Edit" data-toggle="tooltip" (click)="onClickEdit(patient.patientId)" ><i class="material-icons">&#xE254;</i></a>
                            <!-- Button trigger modal -->
<a   data-bs-toggle="modal" data-bs-target="#exampleModal">
    <i class="material-icons">&#xE872;</i>
</a>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Delete</h5>
          
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

            <div class="modal-body">    
            <h5>Are you sure you want to delete?</h5>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click) = (onClickDelete(patient.patientId))>Yes</button>
            </div>
      </div>
    </div>
  </div>
  

                        </div>
                    </td>
                </tr>
                
            </ng-container>

        </tbody>
    </table>

  </ng-container>

  <ng-container *ngIf="!patientsCount">
    <h1> there are no records</h1>
  </ng-container>
    



